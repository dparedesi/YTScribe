---
video_id: kJ3tgbTWE4E
video_url: https://www.youtube.com/watch?v=kJ3tgbTWE4E
is_generated: False
is_translatable: True
---

So I'm sure. Today and in the next few days, you'll learn about new capabilities which allow you to build and scale applications in AWS. But remember that's the first part of your job. The second part of the job is to secure this application and protect these applications. So today we're going to talk about how to build secure perimeter protection on AWS. I'm Shovan Das, and I'm a product manager in AWS networking team. I lead the area of zero touch networking and Van, and with me I have Megha Kande. She leads the Cloudfront team, and she will talk about security. And with me, I also have Shohe Taher, who is a principal solution architect, and he will give a cool demo of how to build end to end perimeter protection using Gen AI and Kiro CLIs. So I'm pretty excited about that demo. So today we'll talk broadly what security means for an application on AWS versus the perimeter protection needs. Then we'll go into perimeter protection at the edge. Then we'll talk about traffic inspection within the network. And then finally we'll talk about giving end users access to those application and resources hosted on AWS and then we'll wrap up with a cool demo like I talked. So most of our customers. They have two kinds of application or resources hosted on AWS. The first is public application. So think of it, your retail website. Any user can access that, your API gateway. Anybody can use those API gateway and connect to your applications, and you need to protect those. But also you have private applications, for example, you have your HR system running in AWS, your financial dashboards running in AWS, this your employees, your workforce, your contractor access those. These are private applications. Not only that, you have all these applications run on EC2 containers, RD instances. Your end engineers, developers, analysts, they access those instances. They are doing SSH and for their daily jobs. So at the end of the day you need to protect the applications, the data in those applications, and provide a robust perimeter protection. And when I think of building a perimeter, I think of 44 traffic directions. First is the internet ingress. That's where your users connect via the internet, but malicious actor, DDoS, bad actors can sneak in. So you need to protect that angle. Then your applications are also connecting to the internet like GitHub downloading. Content or they are uploading some code patching, those things, so you need to ensure they are going and accessing the authorized website. They are putting in the data that you that is compliant based on organizational needs. And the third direction is your applications are also talking to other applications, so you need to ensure that only the right applications are talking to the right application. That's to prevent lateral movement. Let's say somebody sneaks into one of your applications and then from that application they jump into some other application, right? And the final direction is your employees, your workforce. They're also accessing to get their jobs done, and you want to ensure that only the right users, the users with the right privilege, are accessing the application on the needby basis. Once you have done those, you have built a perimeter protection. So what we'll do today in this session, we'll talk about a fictitious customer secure shop. And they have two kinds of applications. One is the retail website SecureShop.com, and then they have a private application, Financecore.com. These applications are hosted in AWS, so they are hosted in VPC. There are other application. The application is spread across multiple VPCs, so they're connected via TGW and our customer SecureShop.com to provide better performance, content acelation and caching is also using Cloudfront for that public facing websites, and they also have applications and employee on-prem. Those employees and applications are also accessing through the transit gateway to the VPCs. So first they will Do the perimeter protection against DDoS and other attacks from the internet ingress. Then they will protect all the traffic directions coming from the internet to their application. Then they will protect the east-west traffic between VPCs. And finally they will protect the traffic and inspect the traffic coming from on-prem and give end users the access. And once they complete all these things, and we will talk more about that, so then they will have the complete perimeter protection and the rest of the session will focus on how to protect all this traffic direction, all these different ingress and egress points. So now I'll hand it over to Mega who'll talk more about cloud front and security at the edge. Thank you Chauvin. Hi y'all, just checking if you can hear me all right. Thank you. Um, how many of you are familiar with Cloudfront? Well, that's, that's a fair bit and um as you know, Cloudfront is um is the content delivery network for AWS um it is a reverse proxy and when you think about CDN content delivery network you often think about performance you think about acceleration caching at the. Edge, um, but Cloudfront also plays an important role in protecting your applications from large scale attacks, DDoS attacks, and such, and that is what I want to talk about in this session. My name is Mega Cande. I lead the Cloudfront product management team, and let's jump into this, so. Let's think about um the the the customer that Shouvin talked about um Secure Shop. They have an application. The the application has some public facing resources and those resources take in a bunch of traffic from the Internet. Now let's look at the anatomy of this traffic that may be coming to the, uh, the secure shop applications, um. Over half of this traffic is bots today. And we know that this bot volume is growing every day with more gente bots coming forth. Um, this is, this is top of mind for secure shop because not all bot traffic drives business growth, but all bot traffic drives infrastructure cost. So this is something that um that Secure Shop wants to monitor control pretty closely. Second thing, um, from the, uh, that, that's top of mind for Secure Shop is the growing volume of DDoS attacks. So, um, we know that every year the volume of DDoS grows pretty significantly. In the last two years, DDoS attack volumes have grown 400%. What does this mean for an application? Like when when you think about a 20 plus TBPS attack that is hitting a particular cloud provider, you have to be concerned about the availability and resiliency of your own application, so that's top of mind. And then finally, SecureShop is an e-commerce application. There are some common threats they have to worry about all the time like is, is somebody creating a fraudulent account? Is a legitimate customer account being taken over? Is there some malicious script, cross site script that is coming to their application that may expose customer data and make them lose customer trust? All of these things are top of mind for um secure shop, and they want an application security tool that has the scale. To prevent the attacks has the coverage to prevent different types of attacks, and it's easy to use. Not every application builder is a is a security expert and there's no need for them to be so. So how do we solve for this? This is where the AWS edge and cloud front help. It starts with scale. Cloudfront is uh deployed at the edge of the AWS network. We have 750 different points of presence. These are racks of servers that are deployed across, um, 750, um, different, uh, locations in 100+ cities in 50+ countries. So this, this is a pretty widespread. Um, surface that can absorb incoming request and diffuse it. So essentially when there is a large volume of traffic that comes into Cloudfront, one of the basic things that Cloudfront does is spreads the traffic across its edge pops. Now on each of those pops on the same server as Cloudfront, you have the AWS Web application firewall running. So web web application firewall can then take that diffuse traffic and, and figure out whether this is legitimate traffic that should access the application or it should be blocked. And along with this at the edge you also have the layer 3 layer 4, shield that that prevents layer 3, layer 4, DDoS attacks. So this is, uh, this is the scale, and when you think about the, um, the edge services for AWS, um, you have Cloudfront, you have AWS WAF, you have Shield that are running on this scaled out infrastructure. That is sitting in front of your applications. This application could be, um, an ALBN point in the region. It can be an on-prem application that is running in your own data centers. Uh, the, the edge services provide that layer of protection to your services, but functionally what, what goes on here, let's take a deeper look at that, um. The the edge services take in all the traffic coming from the Internet to your applications. This could be legitimate customer traffic. This could be malicious attack traffic. And the first thing that happens is a network connect connection is established which is monitored by the AWS shield. So when this network connect connection is being established, the first thing that shield does is it examines the IP addresses that uh that a certain request is coming from. And AWS constantly maintains a list of malicious IP addresses looking at all the traffic that comes to AWS. It's a list of known offenders which, which have, um, according to our databases, our, our data, uh, launched an attack. In addition to this, there are also honey pots that AWS has. Shobin will talk about that in, uh, a little bit later in this session and. This known offenders IP list, if, if a request is seen coming from, uh, from this set of IPs, it is blocked at the edge by um by the shield once, um, so, so that's first layer, but then also like, uh, at this stage at the network layer you're setting up a TCP connection which are subject to sin flood attacks. um, shield protects against that and it also examines. Every packet that is going through the through the network layer to make sure that it is not corrupt, it is configured correctly using technologies such as checksum simple things, but they all come together to make sure that your network layer connection is protected. Once the network uh connection is established, cloud front then starts to terminate the TLS connection at the edge, and it sets up a HTTP connection. Now for setting up TLS, um, Cloudfront, working with our security team within AWS provides a set of advanced ciphers that you can configure for your TLS handshakes. Recently we also launched support for post quantum, uh, compute enabled, uh, keys, and this makes sure that, um, the keys that you use in your TLS, uh, handshake cannot be harvested now and then reused later for account takeover. So TLS handshake is one thing and then like another capability that we launched recently is um Mutual TLS with client applications. Mutual TLS is is um is is a technology that has been around for some time with Cloudfront now you can have a completely managed version of it where you can control um. And create a trust store on Cloudfront, um, issue certificates to your clients and then make sure that the TLS handshake establishes a two-way ath between Cloudfront and your client applications. So if Secure Shop, for example, has a point of sale somewhere, um, that machine can authenticate itself to Cloudfront before all the data is then sent over the machine and a transaction is then enabled, um. So, so this is like, you know, setting up of an HTTP session. Once this is done, now your application is open to talk to a client and at, and once that happens there is of course a new attack surface um where incoming requests could be malicious and this is where. AWS WAF steps in, which gives you a set of configurable rules to make sure that the requests that are coming to your application are legitimate, are the requests that you want your application to take. So, um, this, this could include things like you, you rate limit, how many requests can come to your application. You can look at bot prevention. You can look at that DDoS management at layer 7. So this is this is about like how you establish connections, how you examine requests coming into the AWS Edge, but then there is also a connection that is established between Cloudfront and your application that is running in AWS data center and we, we pay a lot of attention to that connection, um. And make uh because, because ultimately like if your application endpoint in the region is exposed to the Internet that's that could be another attack surface as well of course you can configure WAF and shield on the application in the region um but Cloudfront also allows you to limit the requests that are hitting the application that are served by the application. Such that those requests are coming from Cloudfront so that authentication mechanism, uh, exists. One of the oth mechanisms that we built way back when we launched CloudFront now like 17 years back, um, was it, uh, was, uh, um, was an oath token that Cloudfront sends a signature to S3 buckets. But recently, uh, in the last year we've also, um, developed a way to connect to. An ALB, a network load balancer, or EC2 instances that are in private VPCs. So if you, if you have a way to, to shield your application from Internet and expose it only to connections from cloud front, you are removing another attack surface from your applications. So this is all the different, like, you know, layers of security that that services at the edge provide for your application protection, but this is a lot. So one of the things that's top of mind for us is also to make sure that it's easy to use, these configurations are easy to apply. And um here the first thing that we uh that that AWS offers with AWS WAF is a set of managed rules. These managed rules are constantly curated so you don't have to worry about different types of attacks, but you get a package rule that you can apply to your application pretty quickly. First type of rule, I'll, I'll walk through a few examples over here. There are many more, but to secure Shop, that is a, that is an e-commerce application, um. There are a few that are pertinent. The first one is a set of just baseline rules. So an example here would be like, um, there are, there are top 10 security risks that are identified by the OAS standard, and we have a managed rule that constantly has, uh, has protection against all of those risks. Um, another example of a basic rule would be that like, hey, is my incoming request well formed? Is my URI correct? um. All of those things can be applied through a simple basic rule. Second is a set of managed bot control rules that Cloudfront offers. Here you can configure a common bot rule which just checks that an incoming request is actually from either a legit user or from a set of. Verified bots or you can have a very targeted bot rule set to your uh application. For example, in this case for an e-commerce application there can be car stuffing bots um which can be prevented from accessing your application using targeted bot rule set um. Other other rule sets that are available are um DDoS protection rules. I'll talk about this in a little more detail because we made some changes that are interesting over here, um, and also rules that prevent account fraud, account takeover, and such. So with these set of managed rules. AWS WAF makes sure that you have basic uh security configurations that are available and easily applied. So I talked about the, uh, DDOS managed rule. Let's look into this because this has evolved as as DDoS attacks have evolved over the last few years. We've been working on this and we recently launched, uh, um, a layer 7 DDoS protection managed rule in AWS WAAF. Um, this rule is faster. It, it acts within a few seconds versus it used to take a few minutes in the past. It's more accurate, um, it, it has less false positives, um, as compared to the previous rule set because it integrates a lot of signals from AWS Madpot again like Shawn we'll talk a little more about that, um. And also it it allows you more granular control on when the rule is applied. So when, when we say granular granular control, what does that mean, right? So firstly, um, it lets you set configurations like do you want to examine every request or do you want to only uh challenge requests that have suspicious DDOS indicators as predicted by the rule, um, so it's efficiency versus coverage. It also allows you to configure certain parameters like if you want to exclude certain IP addresses because they are trusted if you want to include certain more vulnerable URI patterns, um, those things can be configured and then you can. Configure your action, uh, so you can say that like, hey, if, if this is Adidas request I want to actually, um, challenge this versus block this so you can you can have those settings and you can pick and choose, um. Anything that is blogged or examined is logged using CloudWatch, and this new DDoS, uh, layer 7 rule is available with Shield Advanced. Shield Advanced is a bundled, uh, product. It's a, it's a subscription-based product that we have, and, um, with Shield Advanced you have 50 billion requests that can be examined using the layer 7 DDoS protection, so. This is one of one of the things that we introduced, uh, this year. The other factor is security, uh, for your origins that are in running in private BPCs. I talked about this briefly, but I wanted to double click into this, um. So imagine that like uh there is there is an application so in case of secure shop they have their um uh their home page along with the log in um the sign in page um that that they are running on EC2 instances in a region and it is fronted by an application load balancer. Now they want to make sure that this home page is not exposed on the Internet. It doesn't have a public IP, but at the same point in time they want to make sure that this is fast and it can, it can reach the global customers for secure shop, um, with, with as low latency as possible. So now with the support for Private origins VPC origins within Cloudfront, um, SecureShop can go to the Cloudfront console and they can quickly configure uh VPC Origin connection using Cloudfront. What happens behind the scene is Cloudfront sets up a parallel VPC. And it connects the cloud front VPC with the customer's VPC on uh uh from uh using a VPC to VPC NAT. Um, all of this is done behind the scenes completely managed by Cloudfront with no additional costs, um, and then the Cloudfront distribution is configured on top of this, so now your application is not exposed on, on the Internet. It can only be accessed by Cloudfront over a private, um, ENI connection, and you've removed another layer of attack, uh, from your applications, so. These are a few things um to recap like using, using the Edge services, using Cloudfront, using AWS WAF, using Shield, um. The AWSH services are able to provide a suite of uh tools to customers that are scalable um that have the complete coverage to protect against different forms of attacks and are easy to configure. um I would now hand it over to uh Shoeb who is going to show us a cool demo on how easily you can set this up. Thank you. Thanks, Michael. Uh, good evening everyone. So Mega talked about a lot of cooled services security features. Uh, so in this demo we are going to deploy some of those security features, uh, using our, uh, AI service called QOCLI. How many people have used QCLI or? OK, we have a few people. So QOCLI is basically, uh, used to be called QCLI, and now it's, it's Kiro CLI. It's an AI agent that can reside in your command line terminal, and then you can use it with natural language prompts to. Um, to interact with your AWS resources. So in this demo we are deploying a retail application for secure shop from scratch, but you can use Quiro to deploy these edge security features on your existing applications as well. So let's look into our demo architecture. So we have a fairly simple architecture here. We have a static retail, uh, secure secure shop website hosted on Amazon S3. Uh, it's called Amazon S3 Origin. And then we are, our goal here is to implement caching and some of the security protections such as, you know, protection against DDoS attacks, SQL injection, cross-site scripting, and so on. We also want to enforce only HTTPS connections to our, um, application. This is internet facing, so we only want internet users to be able to use, uh, encrypted connection. And then we also want to enable Origin access control to make sure that the only authenticated requests are coming from Cloudfront to the Amazon S3 origin. And then finally, we also want to implement some WAF rules. So, um, what I did, I basically started with a very simple prompt with Quiro. So I basically told Quiro to deploy this retail web application in my AWS account. And then Quiro knows the best practices, security best practices, AWSs best practices, so you can actually interact with, with the Quiro and you can ask, Hey, this is my type of application and I want to deploy security best practices. So it will deploy all those rules. So I did that. I gave it a, uh, gave a prompt. My initial prompt, you can scan the QR code, you can take a look at it. Qro came up with a plan, deployed the application on S3 bucket, and then configut the cloud front distribution along with the WAF rules, um, to protect my application against these threats. And uh I had to do some back and forth prompts. I will say this uh you have to sometimes break larger prompts into smaller prompts so that the AI is kind of more uh narrow in terms of the the API calls it's making the the resources looking into. So I did some of that and once I, uh, did that, Ikira was able to kind of, you know, come up with this final output, uh, where I have my application hosted on Cloudfront. Uh, I'm using the cloudfront DNS provider name here. You can also use your own DNS using RA 53. This is a demo, so Cloudfront, uh, DNS is enough. Um, you can see that, you know, there's an SC bucket where my retail, um, static page was hosted, and then, uh, Kiiro has enabled a bunch of web, uh, web application firewall rules, uh, out of the box. Like for example, sequel SQL injection manage rule, cross-site scripting. And then it also deployed rate limiting rule that can also help you absorb a lot of traffic in DDoS attacks. It did that. So you, so you know, any time there is more than 200 requests per 5 minutes, it will basically block those additional requests. And then finally it's also also deployed geo blocking rule to only allow requests from uh US in this scenario. And then it's also looking for bad requests in my HTTP headers. And I'm also shipping the logs into CloudWatch. Uh, that's again one of the best practice. So Kio implemented that as well so that I can look into the. Uh, the log data for troubleshooting purposes and also understanding my traffic patterns to adopt my or to adapt my, um, WAF rules. So this is what our final retail website looks like for secure shop with, with some, you know, some product catalog users can log into it. I also kind of, you know, ask you to to, uh, to add some demo traffic, uh, or, or give me option to, uh, uh, to generate some demographics so it added these buttons. So once I did that, I was able to generate and, and simulate some, uh, attacks on my, um. You know, publicly available website. So look at, looking at some of the metrics, you can see that I I was, I was able to generate, uh, around 1400 requests. 51 of those were blocked. You can also see some of the top attacks. These metrics are available in the cloud front. So if you're using cloud front, you can just quickly go and look into these. And then you can also see finally that, um, I'm only receiving requests from the US because I have a geo-blocking filter going on. And these are the list of manage rules and custom rules that Quiro deployed behind the scene to achieve these protections. So I have some manage rules. Maggie talked about some of these, for example, the SQL injection rule, the known bad input rule, and others. And then I also have custom rules which, which is the rate limit rule and the geoblock rule. So, um, so by using Quiro and some of the secure security protection and, and features that Mega talked about, we are able to secure this secure shop retail website as you can see on the screen, it's a secure website only, uh, supporting the HTTPS connections. We have WAF policy which which has all the different rules that we talked about. Uh, we configured a protocol policy that is redirecting all the HTTP traffic into HTTPS, uh, very simple configuration that Quiro did. And then finally we have Origin Access Control enabled on Amazon S3 Origin to only allow authenticated requests from Cloudfront to our S3 bucket. So this kind of brings us towards the end of the demo. You can deploy all of this through console as well, but now you have options to use AI services. Uh, if you want to learn more about how you can use some of our other AI services for deploying secure applications or any of our other networking and content delivery services, you can scan QR. Code there's a blog on this, uh, page or this slide, and there's also uh uh a Twitch video that you can watch. And today we also launched an AI agent for security in preview. Um, so if you, if you are, if you're a security expert or and, and you want to use AI for that purpose, you can also look into that. With that, I will hand it over to show one for walking us through in network, uh, traffic inspection. Cho, thanks. Great demo. You touched upon two of my favorite things. And simplifying customer's life. First use Gen AI Quiro to build and test the environment, and then the second one was managed rules. And I will talk more about managed rule in the context of network firewall. So in the previous section, you saw how we can use cloud front and edge security products to protect your internet ingress. Now the customers have traffic within the network. For example, they have the east-west traffic, traffic coming from one VPC going to another VPC. They have north-south traffic, traffic going from a VPC to the internet. So how can we use network firewall to protect this both internet egress as well as the traffic between application, east-west traffic? So that's where the network firewall comes into the picture. And Secure Shop is getting popular. It has more users around the world. It has more traffic now. It has more employees, so there is also east-west traffic. And from Network firewall perspective, it's a managed service, so no matter how much your traffic grows, you don't have to do any infrastructure management. Network firewall will scale behind the scenes and handle all your traffic patterns. A network firewall gives essentially three things to you. First, it is based on Suryakata, so you can use Sukata rules. You can write Suryakata rules. To inspect your traffic, you can write stateful rules. For example, you can say that, hey, I just want encrypted traffic, HTTPS traffic from my egress VPCs. Then you can use it to do protocol checking, all those layer 3 inspections. It essentially behaves like an IDS and IPS. Then it also provides you logs. You can use it to monitor how your traffic pattern is, how your network firewall is behaving. You can use it for audit purposes, troubleshooting purposes, or for compliance checks. From secure shop perspective, they have traffic between VPCs, traffic coming from the internet, going to the internet, and from on-prem, and all this traffic comes to the VPC through gateways. A network firewall can act as a bump in the wire. It is integrated with all the AWS gateways natively. For example, it is integrated with transit gateway. You can use it as a bump in a wire. You can use it for all traffic going in and out of IGW or traffic coming from your on frame through DX or through VPNs. Not only that, you can also drop a firewall endpoint in your subnet, and traffic going from the subnet will go to the network firewall endpoint. It will get inspected and then it will go to other subnets or your or the internet gateway. And when it comes to manageability, network firewalls, it is integrated with AWS firewall manager and your AWS organization. We already saw that there are many different traffic patterns Secure Shop is using east, west and north-south, so they have multiple firewall endpoints. Not only that, they have different environments staging, fraud, development, QA. So at the end of the day these are all different AWS accounts and if you're a security admin, you're managing multiple endpoints, multiple accounts, but you want a single pane of glass where you want to manage all your rules and policies for all your network firewalls, and firewall manager provides you that through AWS organization integration. And when we come to logging, Firewall provides logs in S3, Kinesis Firehose, and Cloudwatch logs. You can export these logs and send it to your analytics provider. They will analyze the traffic pattern and give you analytics. For example, you can see which rule was enacted, where traffic was coming, what traffic is getting blocked, and you can use all this insight to write more fine-grained policies or rules in this case. Many of the times, customers tell me that, hey, show one! If I know a threat vector, I can write a Suryakata rule, but what about I don't know a threat vector? It's an emerging threat vector, so what can I do? So that's when the manage rule comes into the picture. We have a group of honey pots we call mad pots. They continuously detect the internet. They analyze all the threats, and they create a manage rule for you. They constantly update the manage rules, and you can use those manage rules on your network firewall. We use this mad pot or our honeypot network to protect Amazon.com, and we provide the same infrastructure to our customers and through that you can write. Or you can use those active threat defense to protect your applications so that way you are protected against all the emerging threats. What's unique about our honey pot network is its scale. So we have a global footprint and just like Cloud Front and WA it's deployed across our global footprint. So we have tens and thousands of sensors. These sensors, they mimic your TCP application, Telnet, SSH and your HTTP application. They behave like your human clients and they try to act like a decoy and the network. Understands the signature, the signature patterns, then updates the rule, and through that you get the protection. And at our scale in a given day we analyze more than 100 million signature patterns and keep on constantly updating these firewall rules, so you get the same scale and benefit out of it. So we, in the beginning, we talked that there are 4 directions you should protect, so we covered the 3 directions. Now the 4th direction is human access or your employee access to this application. And here we'll cover that. And when we talk about human access, so there are two different use cases. The first is most of our employees, they interact with the application through a browser. So these are your contractors, your HR people, and they don't, they don't do SSH. So for them a browser is fine. And then, but you have your engineers who actually want to go and telnet SSH into your instances and do maintenance and patching. So they're two different, and we'll talk about both the use cases. Before you do that, What happens is that most of our customers access AWS network resources in 3 different patterns. First is the VPN into your on-prem network. Through the on-prem network, they will connect through DX or side to side. Into AWS resources. So in this case, the access management is provided by your on-print provider, and then we provide the pipe back to the AWS, but you can use, like we talked in the previous section, you can use network firewall to inspect the traffic coming into AWS through DX or VPN. Many times customers say that, hey, why should I even go to my on-prem? Why should I manage infrastructure? Can I directly VPN into my AWS network? So for that we provide client VPN. Then there are a certain set of customers who are saying that, hey, most of my employees are using browsers, so can I provide them an ease of use, standard browser, internet-based access, just like any public applications. And on top of it, as from a security perspective, I want a better security posture. I want more granular controls. I want to use identity device posture to provide. Per application based access. So for that we have built AWS verified access. Essentially they are asking for zero trust and we are providing them the zero trust access. So let's first jump into client VPN. In client VPN, the user will need a client, so we provide a client, they deploy it on their laptops, and then from that laptops they connect to the client VPN endpoint which is running in AWS region. And once the user is authenticated, then they can access all the resources in your network in the AWS. And let's talk about how we authenticate the user in client VPN. So we have 3 authentication patterns, and based on your flexibility, your needs, you can choose one of them. First is a certificate-based authentication. You can put a certificate on a user's device and using the certificate they are authenticated to client VPN and then they access your network. The second is Active Directive. Many of our customers use ActiveDirectory, so we support Active Directive-based integration. Let's say you're using an identity provider like Octa or Ping who supports SAML, so you can use SAML-based authentication as well. And based on this authentication, the user gets access to the network, and you can write granular policy. You can restrict the user access to a subset of your network or to a segment of your network. So in this case, I'm restricting the user to a 32, and the user is belonging to the engineering department. And many times customers say that, Hey, can I use device posture? So we provide a lambda connection handler. And you can write custom rules in the connection handler, and we will run both the identity-based authentication and device posture check through this connection handler, and if both allowed, then the user gets access to the network. In this case, Secure Shop is using OS versions. They're using the client version. They're checking the device poster, and based on that, the user is getting access to the network. And many times customers ask, Hey, can I use client VPN to provide access to my on-prem resources? So I don't want to maintain two VPN solutions, or I can provide them access to other clouds. So what happens is that your users will get authenticated at the. VPN endpoint and then through DXO site to site that request will go back to your on-prem. So based on that you can have on-prem based access and we just launched DX multi-cloud connector so with that you can also provide access to other clouds. So in a nutshell, the client VPN can give you access not only to AWS but other resources outside of AWS. Now let's talk about zero verified access or EA. We call it EA. And EA is built on zero trust principles. So let's talk about that because zero trust can mean different things to different folks. So it's important to understand what is our perspective and how we define zero trust. From our perspective, zero trust is essentially two things. First, we say that apart from network location, you should use non-network based signals to provide access to a resource or to a network. So in case of secure shop, they can use identity-based as a non-networking signal. They can also use device posture. The more signals you use, the better the trust authentication mechanism becomes, the better your security posture becomes. The second thing is continuous verification. So let's take an example. If a user wants to access application one. Zero Trust principle says that check device poster, check identity, run your policy, and then give access to application one. Moments later, if the same user wants to access application 2. Then pull in the same signals, identity and posture, because something might have changed in that brief moment. Application 2 might have a different set of policies, so run those policies and then give the user access to Application 2. So these are the two pillars of our zero trust principles. And we built AWS verified access based on these two principles. So from AWS verified access is a reverse proxy. All the HTTP requests come to AWS verified access. It terminates the request. Then it pulls down the Claims from your identity provider, your device management provider, and we have standard-based integration. Essentially what we want is that you shouldn't change your identity provider or device MDMs for the sake of moving to zero trust architecture. So you can still continue with the IT investment and use AWS verified access to provide zero trust access. Then we pull the signals, run the policies. If the policy allows, we connect the user's request back to your VPC. And a customer might have hundreds of VPCs, thousands of applications. From an administrative perspective, you just need one single AWS verified access and we will connect it on the back end to your application or to your VPC or to your ALB wherever the application is running. So we do the back end stitching, we provide the point to point connectivity unlike some of the other solutions which requires you to use connectors or publishers. So here you don't have to do all those things from a security perspective, you just write policies and grant access and we take care of the plumbing. So we talked about the partners. These are the partners from Identity Space, MDM Space, and they are partners who consume our logs, give you analytics. If your identity provider or MDM is not there, their logo is not there, let us know. We will work with them and get them here. So we have a standard-based integration and we can work with them to get them on boarded. So let's talk about a few Q capabilities. One is that first, Eva provides an internet endpoint to your private application. So in that sense, it is exposed to the internet-based threats. So the first thing you need to build. is a security perimeter. So we provide WAF integrations and all the things Mega and Shoh talked about, for example, DDoS, SQL injections, cross-site scripting bots, all those things are provided on AA. You first filter the traffic, provide the broad network perimeter, then use AA's identity and device management based zero trust access, and then provide user into your applications. And then the final, the second thing I want to touch is EA also provides you rich logs. You can, in the enhanced logging mode, you can dump all your claims. And later on you can use those claims to write policies. You can write policies, tweak policies, stimulate the policies, see what's the effect of those policies, and then check those in. Many of my customers have said that using this advanced logging and the policy editor, they have cut down the policy writing time from days to a few hours, so it's quite powerful and quite useful, and Shohe will talk more about that. So having said that, now I will give it back to Shohav before moving that. One other thing, one common question is that when should I use client VPN and when should I use verified access? And the answer is that based on your use case, you will use both to provide network access. Use client VPN that gives the SSH and Telnet another access to your engineers. And for your employees who need STTP-based access, use AWS verified access. They will, it will give you the granular access based on device poster and identity. All I have take on and give us the. Next set of demos. Thanks Shawn. So Showen talked about a lot of cool features of Amazon verified access and uh let's apply some of them to a real world use case. So going back to our secure shop customers, so they also have an internal application, financial application we are calling it Finance core application. So in this demo we are going to apply um some of the Ava security features to this Finance Core application to provide uh secure remote access for internal users. So in our demo architecture, um, we have a user that browses a domain hosted on Route 53. Uh, this is called financescore.secureshop.com. Uh, you can see in this to our verified access endpoint, um, and then on verified access endpoint we have configured a bunch of things. So we have WAF rules, um, through AWS Manage WAF rules which can provide, uh, protection against the bot control, uh, the common threats such as SQL injection, and so on. Um, the verified access also requires the user to authenticate against IAM identity Center. This is our trust provider. Uh, you can also use, uh, device trust provider in addition to this like, uh, show and talked about, but for demo purposes we are only using the, uh, the IAM identity Center as a trust provider. And then once the user is authenticated successfully, they're able to uh navigate or browse to this Finance core application running behind a private ALB. We also have the finance core application also have to go out to the internet, download security patches, maybe talk to third party APIs. So it also needs that outbound internet egress. So we also want to protect that parameter. So we are also deploying AWS network firewall to protect that egress traffic as well. And then finally we are shipping uh the the logs from uh VAF from verified access and from network firewall into CloudWatch so that we can use them for troubleshooting, for analyzing our access patterns, and for also auditability purposes. So, with this, I will actually switch to a live demo. Um, Give me a second. Let me log into my machine. Hopefully the demagogues are kind today. OK, so again, I use Qiro to deploy all of this architecture that I showed you, um, so let's first navigate into our finance core application. So when I try to navigate to finance core application, it basically redirects me to log into my um account using IM Identity Center like I showed in the architecture. So I'll do that here. Given my password. Oops. No. OK, I'm able to remember my password finally. So now I'm actually uh browsing to this ALB that that is behind the verified access. Now this is my finance core dashboard. Uh, you can see this is like a financial application for internal employees who are looking for like in revenue numbers and things like that. You can see, you know, I'm running this in US East one. This is my EC2 instance for the finance core application, and this is all behind the verified access like I showed you previously. So let's look into what is going on behind the scene. So, I, uh I want to look into the verified axis. So, verified axis is in the VPC console, so I will navigate towards um our VPC console. And then go to verified access. Which is this, so this is my reman demo. Let me make it a little bigger. So if I select this, you can see I, uh, this is like the general information about my verified access instance, and then I have some, uh, I have a finance app group so that I can apply the, the group policy, uh, to only allow access for my, uh, users from that group. Uh, this is my trust provider. Like I said, I'm using the IM Identity Center as a trust provider. You can also attach, for example, a device, a trust provider like this. I'm not gonna do that in this demo. Um, I have also the logging going on like I talked about to CloudWatch, and I'm also passing the detail log. So I'm also, uh, passing the trust context into the CloudWatch that I can use as part of the policy, uh, tests. And then finally I have a VA, uh, VA policy or web ACL assigned to the verified access. I'll come back to it later to look into the rules, but let's first look into the, um, there's a feature within verified access. It's called launch policy assistant. So in order to, uh, you know, fine tune your policies and, and make sure that your policies are working the way they should, you can use this feature. So I can actually use my email address in this scenario. I select uh my endpoint in actual production environment you may have different endpoints you may have an endpoint for prod, non-prod, and so on. I only have one because I have a demo environment and then I'm going to use my last authorization result. Um, to, to apply this policy or change the policy. It takes a little bit while OK. So you can see that uh Ava was able to actually extract trust, trust context from my trust provider in this case, IM Identity Center. This is all the information that was passed by the IM Identity Center to Ava. Um, you can see it, it has my email address, my host name, my IP address, uh, the one that I'm interested is, is the group, uh, which is this. So I right now I have a pretty open group policy which is allowing access to any authenticated user. I wanna narrow it down to this, uh, finance group. So I only want the, the people who are part of the finance group to be able to access this application. So what I do, I can change the policy. I actually pre-created the policy. Again, I use Quiro for generating this policy as well, so you can see I'm just using the group ID which is this, uh, which matches this, um, to narrow down this policy, and I wanna test this policy so that make to make sure that it works, seems like it works, so I hit next and then I can simply apply this policy to my, uh, Amazon verified access instance. OK, so that was uh the launch policy assistant, so you can use it for troubleshooting and for fine tuning your policy. The other thing I wanna talk about is VAF. So, I have also deployed the VAF again through Quiro. So I'm gonna actually jump on Quiro, which is this. So I preloaded the, the context for my finance core application into into Quiro um in order for us to interact with uh this architecture so I'll say show me WAF rules on finance core. And I will say this, you have to name your resources really, really well because this is a large language model. So the better your naming convention is, it is going to perform better, uh, in response to your prompts, something to keep in mind. So you can see that, you know, I ran this prompt right away. It returned some rules to me, and I can ask it. Before I do that, let me show you in the console. So I have the same rules over here, but you can see that in When Quiro responded to the same request, it ran some described calls, and it, it showed me the rules, but it's also telling me what the rules is doing, very brief summary, so, so it has that knowledge, um, and if you're not ready to use Quiro for deploying production applications or making changes to your resources, you can still use it for network discovery like this, very safe use case. So I will like uh what. Other we rules. Uh, I should deploy for this financial application. Like I said, it has a knowledge, so it, it knows the security best practices. It knows AWS has, uh, security best practices as well, are well architected framework, so it is suggesting me some options. So I'm gonna say, so you, you can see it gave me a lot of different rules. I'm not gonna go through all of them, but I'm gonna pick the first one, and I'm gonna say add this first managed rule. So it's going this is more um like I'm making changes to the resourceskiro so it takes a little bit more time so while this is going on. Uh, I'm gonna jump on my, uh, console again, and you can see it was able to do it. If I refresh my page, I should be able to see that rule. You can see that. This was a rule I added, uh, SQL injection rule set which is exactly like this so you can see like with a few prompts I'm able to make changes to my resources and apply some additional security protections, uh, for this internal financial application. OK, so the other thing I had was network firewall. Um, so I also want to use, uh, I also want to show you how the network firewall is working in this scenario. So I wanna see the route table because I'm passing all of my traffic through the network firewall endpoint. So show me the finance score. BBC. Round table Uh. Ignore and use. Show me in Cisco format. Just for fun. So again this is again a discovery call so I'm learning about the routes in my VPC for this finance core application. So it's running a bunch of the described calls behind the scene and you can see that it started to kind of spit out the route table I have in place. So you can see that I have um a route table associated to my finance core application, um, these subnets, so it's sending all the traffic to the VPC endpoint which is the network firewall endpoint which is this right here. Uh, and then I have firewall subnets where my, where my network firewall is actually deployed, so that subnet has a route to the Internet gateway, rightly so. And then I also have, uh, a, a route table assigned to Internet gateway for the return traffic to go through the network firewall as well. So you can see that I also have routing set up for that as well. And if I say show me the traffic flow in both sides. So, so Kira will be able to find that as well for me in a bit. So you can see that, you know, it's showing me how the Internet, uh, traffic from internet user user will basically interact with this Finance core application. I'm not going to go through everything, but you can see like, you know, it's, it's identifying everything like the WAF rules, the network firewall rules, the routing, everything, and it's showing me both inbound and outbound. Again, a very quick way to verify your setup. So now I want to go to network firewall to show you some of the Rules in place in the console. Network firewall is also part of the VPC console, so I'll quickly jump into that. Um, so this is my network firewall finance core, and I have a bunch of different things configured here. The one that we are going to look into, uh, is the policy which is this. And I have configured a bunch of custom rule, um, and AWS manage rule that show and talked about. So the AWS manager rule I've enabled here are protecting me against known malware, uh, domains. And then the custom rule that I've created again using Quiro is making sure that, uh, I can only send, uh, encrypted traffic, uh, out to the internet. So I'm blocking any traffic going on port 80 SOTB traffic. I'm also blocking any traffic going out on port 22 because this is a financial application. It should not be making any SSH connection out to the internet, so it's blocking all of these kind of uh traffic patterns. And let's test these things. Um, so I'm going to go to my EC2 console. I have my finance core application running in the subnet, so if I connect to it. Using the private IP And I've copied some commands so I can run them. So the first thing I'm gonna do is I'm going to call Amazon.com and HTTP. This should be blocked. And as you can see this was blocked by the network firewall and then if I try to curl HTTPS it should work. You can see this worked. And then finally if I try to connect to a known malware domain, it should also be blocked based on my network firewall rule. So you can see that also happened here. So With that, that kind of brings us. Towards the end of the demo, you can also use net uh it might take a little bit more time. Let me see how much time I have. OK, so you can also run um other queries to, for example, show you the blocked traffic in the logs. Uh, sokiro can actually go and make those describe calls against my uh cloud watch log group and show me those entries as well in a summarized easily consumable fashion. It takes a little bit, um, you can see now it started to show me some of those, uh, that data what IP addresses are allowed, what timess were blocked. There's a lot of data I'm not gonna go through, but just to show you that it's, it can consume the log data and give you summarized output. So with that, this was the console demo. Um, so coming back to our, um, slides, uh, slide deck, so we covered a lot of ground in this session. We talked about different services that you can use for building robust parameter protection and zero trust. So let's apply all of those things that we learned along this session to our secure shop enterprise architecture. So the first thing, uh Secusha I wanna do, um, we want to protect our internal applications so we deploy Amazon verified access with identity and device trust provider integrations. Then we enable web application firewall on both cloud front and verified access to protect both our public facing applications like the retail application we showed and our internal application like the financial application against the common threat, common threats. We then deploy. Network firewall to inspect uh north south and east west traffic. So north-south traffic is the traffic coming from internet towards our application and also from on premises over the DX to our application and also east-west traffic that is flowing between, let's say prod to non-proud, one application to a different application residing across different VPCs. So you're using network firewall to protect against all of those, um, or inspect all of that traffic pattern. And then lastly we uh filter and we inspect internet bound traffic, outbound traffic using AWS network firewall, and optionally we can also enable Route 53 DNS firewall for that DNS uh protection, uh, for egress traffic protection as well. So all of this helps us create a secure network parameter for secure shop enterprise customer. So this brings us towards the end of our session. Thanks for joining us. Uh, please take a moment to take, uh, the session survey in the mobile app and, uh, help us, that can help us improve our future sessions. Enjoy the rest of the reinvent and keep reinventing. And if you have any questions, we are going to be in the back, so please come, uh, chat with us. Thank you.