# AI Agent Instructions for YTScribe

## Project Overview

YTScribe is a YouTube transcript downloader that:

- Extracts video metadata from YouTube channels
- Downloads transcripts as markdown files with YAML frontmatter
- Tracks progress in CSV files
- Supports both channel-based extraction and manual collections

## Key Directories

- `src/transcript_downloader/` - Core Python package
- `data/` - Downloaded data organized by source
- `scripts/` - Automation scripts for batch operations
- `prompts/` - AI prompts for transcript analysis
- `.agent/skills/` - Skill definitions for Agents (create .claude symlink if needed)

## Configuration

- `data/channels.yaml` - Channel configuration for batch operations
- `pyproject.toml` - Python project configuration

## Available Skills Index
*(Auto-generated by updating-skill-index SKILL - do not edit manually)*

### Global Skills
*Available across all repositories*

- **Name:** `llms-dashboard`
  - **Trigger:** Generate and update HTML dashboards for LLM usage (Claude and Gemini). Use when the user wants to visualize their AI coding assistant usage statistics, view metrics in a web interface, or analyze historical trends.
  - **Path:** `~/.agent/skills/llms-dashboard/SKILL.md`

- **Name:** `skill-builder`
  - **Trigger:** Create, evaluate, and improve Agent skills to production quality (100/100). Use when the user wants to create a new skill, review an existing skill, score a skill against best practices, or improve a skill's quality. Also use when the user mentions skill development, skill templates, or skill optimization.
  - **Path:** `~/.agent/skills/skill-builder/SKILL.md`

- **Name:** `skills-index-updater`
  - **Trigger:** Regenerate the Available Skill Index in AGENTS.md by scanning both global (~/.agent/skills/) and local (.agent/skills/) skills. Use when adding a new skill, removing a skill, updating skill descriptions, or when the user mentions "update skill index", "sync agents", or "regenerate index".
  - **Path:** `~/.agent/skills/skills-index-updater/SKILL.md`

- **Name:** `skills-local-setup`
  - **Trigger:** Set up AI tool symlinks in a repository for multi-agent compatibility. Use when the user wants to set up skills for Gemini, Claude, or other AI tools, or when they mention "setup skills", "configure agents", or "link AGENTS.md".
  - **Path:** `~/.agent/skills/skills-local-setup/SKILL.md`

### Local Skills
*Specific to this repository*

- **Name:** `add-video-to-collection`
  - **Trigger:** Manually add individual YouTube URLs to a custom collection CSV. Use when adding one-off videos to folders like library-of-minds or random, not from a channel extraction.
  - **Path:** `.agent/skills/add-video-to-collection/SKILL.md`

- **Name:** `consolidate-transcripts`
  - **Trigger:** Consolidate transcripts from a channel into a single file, sorted by date (newest first), up to 800K tokens. Use when preparing transcripts for LLM context or bulk analysis.
  - **Path:** `.agent/skills/consolidate-transcripts/SKILL.md`

- **Name:** `download-all-transcripts`
  - **Trigger:** Download transcripts for all data folders sequentially. Use for overnight batch processing or when you need to download pending transcripts across all channels and collections.
  - **Path:** `.agent/skills/download-all-transcripts/SKILL.md`

- **Name:** `download-transcripts`
  - **Trigger:** Download YouTube transcripts for videos tracked in a CSV file. Use when you need to download transcripts in bulk with progress tracking.
  - **Path:** `.agent/skills/download-transcripts/SKILL.md`

- **Name:** `extract-videos`
  - **Trigger:** Extract video metadata from a YouTube channel and save to CSV for tracking. This skill ONLY populates the CSV and does NOT download transcripts.
  - **Path:** `.agent/skills/extract-videos/SKILL.md`

- **Name:** `sync-agent-configs`
  - **Trigger:** Sync skill definitions to agent proxy files (.agent/workflows/skills.md and .github/copilot-instructions.md). Use after adding, removing, or modifying skills.
  - **Path:** `.agent/skills/sync-agent-configs/SKILL.md`

- **Name:** `sync-all-channels`
  - **Trigger:** Extract videos from all enabled YouTube channels in channels.yaml. Use for batch updating video lists before downloading transcripts overnight.
  - **Path:** `.agent/skills/sync-all-channels/SKILL.md`

---

## Quick Reference

Use these commands directly:

### extract-videos

```bash
transcript-extract <channel_url> --count <N> --append-csv data/<folder>/videos.csv
```

### download-transcripts

```bash
transcript-download --csv data/<folder>/videos.csv --output-dir data/<folder>/transcripts
```

### add-video-to-collection

```bash
transcript-add <youtube_url> --csv data/<collection>/videos.csv
```

### sync-all-channels

```bash
./scripts/sync_all_channels.sh
```

Requires `yq` installed (`brew install yq`)

### download-all-transcripts

```bash
./scripts/download_all_transcripts.sh
```

### consolidate-transcripts

```bash
python scripts/consolidate_transcripts.py <channel_name> [--limit TOKENS] [--verbose]
```

Consolidates transcripts into a single file (newest first, up to 800K tokens by default).
